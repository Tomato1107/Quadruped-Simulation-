{"ast":null,"code":"var _jsxFileName = \"/Users/pratikgurudatt/Desktop/code/mine/Thesis/Quadruped/Simulator/Quadruped-Simulation-/src/Components/PlotArea/mainPlot.js\";\nimport React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Plot from \"react-plotly.js\";\nexport const Container = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  background-color: rgba(255, 255, 255, 0.2);\n  border-radius: 5px;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nclass Joint {\n  constructor(link_1, link_2, link_3, theta_1, theta_2, theta_3, name) {\n    this.joint = {\n      theta_1: theta_1,\n      theta_2: theta_2,\n      theta_3: theta_3,\n      link_1: link_1,\n      link_2: link_2,\n      link_3: link_3,\n      name: name\n    };\n  }\n\n  rad2deg(value) {\n    var pi = Math.PI;\n    return value * (180 / pi);\n  }\n\n  deg2rad(degrees) {\n    var pi = Math.PI;\n    return degrees * (pi / 180);\n  }\n\n  printJoint() {\n    console.log(\"Link 1: \" + this.theta_1);\n    console.log(\"link 2: \" + this.theta_2);\n    console.log(\"link 3: \" + this.theta_3);\n  }\n\n}\n\nclass Robot {\n  constructor() {\n    this.bodyRadius = 0;\n  }\n\n  getRobotBody(rads) {\n    //[ -50, 50, 50, -50, -50 ], [ -50, -50, 50, 50, -50 ], [0, 0, 0, 0, 0]\n    let x = [-rads, rads, rads, -rads, -rads];\n    let y = [-rads, -rads, rads, rads, -rads];\n    let z = [0, 0, 0, 0, 0];\n    return {\n      x: x,\n      y: y,\n      z: z\n    };\n  }\n\n  _filterEndPoint(point_set) {\n    return [[point_set[0][0][3], point_set[0][1][3], point_set[0][2][3]], [point_set[1][0][3], point_set[1][1][3], point_set[1][2][3]], [point_set[2][0][3], point_set[2][1][3], point_set[2][2][3]]];\n  }\n\n  _multiplyMatrices(firstArray, secondArray) {\n    let resultingArray = [];\n    let n = 4;\n\n    for (let i = 0; i < n; i++) {\n      resultingArray.push([]);\n\n      for (let j = 0; j < n; j++) {\n        resultingArray[i][j] = 0;\n\n        for (let k = 0; k < n; k++) {\n          resultingArray[i][j] += firstArray[i][k] * secondArray[k][j];\n        }\n      }\n    }\n\n    return resultingArray;\n  }\n\n  getFK(joint) {\n    let T0_1 = [[Math.cos(joint.theta_1), -Math.sin(joint.theta_1), 0, 0], [Math.sin(joint.theta_1), Math.cos(joint.theta_1), 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]];\n    let T0_2 = [[Math.cos(joint.theta_2), -Math.sin(joint.theta_2), 0, joint.link_1], [0, 0, -1, 0], [Math.sin(joint.theta_2), Math.cos(joint.theta_2), 0, 0], [0, 0, 0, 1]];\n    let T0_3 = [[Math.cos(joint.theta_3), -Math.sin(joint.theta_3), 0, joint.link_2], [Math.sin(joint.theta_3), Math.cos(joint.theta_3), 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]];\n    let T0_4 = [[1, 0, 0, joint.link_3], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]];\n\n    let point_set_1 = this._multiplyMatrices(T0_1, T0_2);\n\n    let point_set_2 = this._multiplyMatrices(point_set_1, T0_3);\n\n    let point_set_3 = this._multiplyMatrices(point_set_2, T0_4);\n\n    return this._filterEndPoint([point_set_1, point_set_2, point_set_3]);\n  }\n\n  getIK(x, y, z, joint) {\n    let theta_1 = Math.atan2(y, x);\n    let A = z;\n    let B = Math.cos(theta_1) * x + y * Math.sin(theta_1) - joint.link_1;\n    let C = (Math.pow(A, 2) + Math.pow(B, 2) - Math.pow(joint.link_3, 2) - Math.pow(joint.link_2, 2)) / (2 * joint.link_3 * joint.link_2);\n    let theta_3 = Math.atan2(Math.sqrt(1 - Math.pow(C, 2)), C);\n    let D = Math.cos(theta_3) * joint.link_3 + joint.link_2;\n    let E = Math.sin(theta_3) * joint.link_3;\n    let numerator = (A * D - B * E) / (Math.pow(E, 2) + Math.pow(D, 2));\n    let denominator = 1 - Math.pow(numerator, 2);\n    let theta_2 = Math.atan2(numerator, Math.sqrt(denominator));\n    joint.theta_1 = joint.rad2deg(theta_1);\n    joint.theta_2 = joint.rad2deg(theta_2);\n    joint.theta_3 = joint.rad2deg(theta_3);\n    return joint;\n  }\n\n  getFrame(frameCount, props) {}\n\n}\n\nexport default class PlotArea extends Component {\n  constructor(_props) {\n    super();\n\n    this.preapreJointIK = (leg, joint, prop, length) => {\n      switch (leg) {\n        case 1:\n          {\n            joint.theta_1 = -joint.deg2rad(prop.theta_1);\n            joint.theta_2 = -joint.deg2rad(prop.theta_2);\n            joint.theta_3 = -joint.deg2rad(prop.theta_3);\n            joint.link_1 = length === null || length === void 0 ? void 0 : length.coxa;\n            joint.link_2 = length === null || length === void 0 ? void 0 : length.tibia;\n            joint.link_3 = length === null || length === void 0 ? void 0 : length.femur;\n            break;\n          }\n\n        case 2:\n          {\n            joint.theta_1 = -joint.deg2rad(prop.theta_1);\n            joint.theta_2 = -joint.deg2rad(prop.theta_2);\n            joint.theta_3 = -joint.deg2rad(prop.theta_3);\n            joint.link_1 = length === null || length === void 0 ? void 0 : length.coxa;\n            joint.link_2 = length === null || length === void 0 ? void 0 : length.tibia;\n            joint.link_3 = length === null || length === void 0 ? void 0 : length.femur;\n            break;\n          }\n\n        case 3:\n          {\n            joint.theta_1 = -joint.deg2rad(prop.theta_1);\n            joint.theta_2 = -joint.deg2rad(prop.theta_2);\n            joint.theta_3 = -joint.deg2rad(prop.theta_3);\n            joint.link_1 = length === null || length === void 0 ? void 0 : length.coxa;\n            joint.link_2 = length === null || length === void 0 ? void 0 : length.tibia;\n            joint.link_3 = length === null || length === void 0 ? void 0 : length.femur;\n            break;\n          }\n\n        case 4:\n          {\n            joint.theta_1 = -joint.deg2rad(prop.theta_1);\n            joint.theta_2 = -joint.deg2rad(prop.theta_2);\n            joint.theta_3 = -joint.deg2rad(prop.theta_3);\n            joint.link_1 = length === null || length === void 0 ? void 0 : length.coxa;\n            joint.link_2 = length === null || length === void 0 ? void 0 : length.tibia;\n            joint.link_3 = length === null || length === void 0 ? void 0 : length.femur;\n            break;\n          }\n\n        default:\n          {}\n      }\n\n      return joint;\n    };\n\n    this.prepareJointFK = (leg, joint, props, length) => {\n      switch (leg) {\n        case 1:\n          {\n            joint.theta_1 = -joint.deg2rad(props[0][0]);\n            joint.theta_2 = -joint.deg2rad(180 - props[0][1] - 90);\n            joint.theta_3 = -joint.deg2rad(180 - props[0][2] - 90);\n            joint.link_1 = length.coxa;\n            joint.link_2 = length.tibia;\n            joint.link_3 = length.femur;\n            break;\n          }\n\n        case 2:\n          {\n            joint.theta_1 = -joint.deg2rad(180 - props[1][0]);\n            joint.theta_2 = -joint.deg2rad(180 - props[1][1] - 90);\n            joint.theta_3 = -joint.deg2rad(180 - props[1][2] - 90);\n            joint.link_1 = length.coxa;\n            joint.link_2 = length.tibia;\n            joint.link_3 = length.femur;\n            break;\n          }\n\n        case 3:\n          {\n            joint.theta_1 = -joint.deg2rad(props[2][0] - 180);\n            joint.theta_2 = -joint.deg2rad(180 - props[2][1] - 90);\n            joint.theta_3 = -joint.deg2rad(180 - props[2][2] - 90);\n            joint.link_1 = length.coxa;\n            joint.link_2 = length.tibia;\n            joint.link_3 = length.femur;\n            break;\n          }\n\n        case 4:\n          {\n            joint.theta_1 = -joint.deg2rad(props[3][0] - 180);\n            joint.theta_2 = -joint.deg2rad(180 - props[3][1] - 90);\n            joint.theta_3 = -joint.deg2rad(180 - props[3][2] - 90);\n            joint.link_1 = length.coxa;\n            joint.link_2 = length.tibia;\n            joint.link_3 = length.femur;\n            break;\n          }\n      }\n\n      return joint;\n    };\n\n    this.handleRotation = (rotation, currentPoint) => {\n      let theta_1 = this.deg2rad(rotation.rotX);\n      let theta_2 = this.deg2rad(rotation.rotY);\n      let theta_3 = this.deg2rad(rotation.rotZ);\n      let x = currentPoint.x;\n      let y = currentPoint.y;\n      let z = currentPoint.z;\n      let rotationMatrix = [y * (Math.cos(theta_1) * Math.sin(theta_3) + Math.cos(theta_3) * Math.sin(theta_1) * Math.sin(theta_2)) + z * (Math.sin(theta_1) * Math.sin(theta_3) - Math.cos(theta_1) * Math.cos(theta_3) * Math.sin(theta_2)) + x * Math.cos(theta_2) * Math.cos(theta_3), y * (Math.cos(theta_1) * Math.cos(theta_3) - Math.sin(theta_1) * Math.sin(theta_2) * Math.sin(theta_3)) + z * (Math.cos(theta_3) * Math.sin(theta_1) + Math.cos(theta_1) * Math.sin(theta_2) * Math.sin(theta_3)) - x * Math.cos(theta_2) * Math.sin(theta_3), x * Math.sin(theta_2) + z * Math.cos(theta_1) * Math.cos(theta_2) - y * Math.cos(theta_2) * Math.sin(theta_1)];\n      return {\n        x: rotationMatrix[0],\n        y: rotationMatrix[1],\n        z: rotationMatrix[2]\n      };\n    };\n\n    this.getGeneratedMesh = () => {\n      let mesh = {\n        x: [this.endEffectorPoints[0][0], this.endEffectorPoints[1][0], this.endEffectorPoints[2][0], this.endEffectorPoints[3][0]],\n        y: [-this.endEffectorPoints[0][1], -this.endEffectorPoints[1][1], -this.endEffectorPoints[2][1], -this.endEffectorPoints[3][1]],\n        z: [-this.endEffectorPoints[0][2], -this.endEffectorPoints[1][2], -this.endEffectorPoints[2][2], -this.endEffectorPoints[3][2]]\n      };\n      return mesh;\n    };\n\n    this.bot = new Robot(_props);\n    this.joint_1 = new Joint(120, 110, 120, 0, 0, 0);\n    this.joint_2 = new Joint(120, 110, 120, 0, 0, 0);\n    this.joint_3 = new Joint(120, 110, 120, 0, 0, 0);\n    this.joint_4 = new Joint(120, 110, 120, 0, 0, 0);\n    this.endEffectorPoints = [[], [], [], []];\n\n    if (_props.choice) {\n      this.leg_1 = this.bot.getFK(this.prepareJointFK(1, this.joint_1, _props.fk, _props.lengths));\n      this.leg_2 = this.bot.getFK(this.prepareJointFK(2, this.joint_2, _props.fk, _props.lengths));\n      this.leg_3 = this.bot.getFK(this.prepareJointFK(3, this.joint_3, _props.fk, _props.lengths));\n      this.leg_4 = this.bot.getFK(this.prepareJointFK(4, this.joint_4, _props.fk, _props.lengths));\n    } else {\n      this.leg_1 = this.bot.getFK(this.preapreJointIK(1, this.joint_1, this.bot.getIK(_props.ik[0][0], _props.ik[0][1], _props.ik[0][2] || _props.frameCount, this.joint_1)));\n      this.leg_2 = this.bot.getFK(this.preapreJointIK(2, this.joint_2, this.bot.getIK(_props.ik[1][0], _props.ik[1][1], _props.ik[1][2], this.joint_2)));\n      this.leg_3 = this.bot.getFK(this.preapreJointIK(3, this.joint_3, this.bot.getIK(_props.ik[2][0], _props.ik[2][1], _props.ik[2][2], this.joint_3)));\n      this.leg_4 = this.bot.getFK(this.preapreJointIK(4, this.joint_4, this.bot.getIK(_props.ik[3][0], _props.ik[3][1], _props.ik[3][2], this.joint_4)));\n    }\n\n    this.state = {\n      bodyDimension: this.bot.getRobotBody(_props.radius),\n      endEffectorPoints: []\n    };\n  }\n\n  componentDidMount() {// if (this.props.choice === \"IK\") {\n    //   for (let i = 0; i < 100; i++) {\n    //     this.leg_1 = this.bot.getFK(\n    //       this.preapreJointIK(\n    //         1,\n    //         this.joint_1,\n    //         this.bot.getIK(\n    //           this.props.ik[0][0],\n    //           this.props.ik[0][1],\n    //           i,\n    //           this.joint_1\n    //         ),\n    //         this.props.lengths\n    //       )\n    //     );\n    //   }\n    // }\n  }\n\n  deg2rad(degrees) {\n    var pi = Math.PI;\n    return degrees * (pi / 180);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      bodyDimension: this.bot.getRobotBody(nextProps.radius)\n    });\n\n    if (nextProps.choice) {\n      this.leg_1 = this.bot.getFK(this.prepareJointFK(1, this.joint_1, nextProps.fk, nextProps.lengths));\n      this.leg_2 = this.bot.getFK(this.prepareJointFK(2, this.joint_2, nextProps.fk, nextProps.lengths));\n      this.leg_3 = this.bot.getFK(this.prepareJointFK(3, this.joint_3, nextProps.fk, nextProps.lengths));\n      this.leg_4 = this.bot.getFK(this.prepareJointFK(4, this.joint_4, nextProps.fk, nextProps.lengths));\n      this.endEffectorPoints = [[this.leg_1[2][0] - nextProps.translations.transX, -this.leg_1[2][1] - nextProps.translations.transY, -this.leg_1[2][2] - nextProps.translations.transZ], [this.leg_2[2][0] - nextProps.translations.transX, -this.leg_2[2][1] - nextProps.translations.transY, -this.leg_2[2][2] - nextProps.translations.transZ], [this.leg_3[2][0] - nextProps.translations.transX, -this.leg_3[2][1] - nextProps.translations.transY, -this.leg_3[2][2] - nextProps.translations.transZ], [this.leg_4[2][0] - nextProps.translations.transX, -this.leg_4[2][1] - nextProps.translations.transY, -this.leg_4[2][2] - nextProps.translations.transZ]];\n    } else {\n      this.endEffectorPoints = [[this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[0][0],\n        y: nextProps.ik[0][1],\n        z: nextProps.ik[0][2]\n      }).x - nextProps.translations.transX, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[0][0],\n        y: nextProps.ik[0][1],\n        z: nextProps.ik[0][2]\n      }).y - nextProps.translations.transY, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[0][0],\n        y: nextProps.ik[0][1],\n        z: nextProps.ik[0][2]\n      }).z - nextProps.translations.transZ], [this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[1][0],\n        y: nextProps.ik[1][1],\n        z: nextProps.ik[1][2]\n      }).x - nextProps.translations.transX, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[1][0],\n        y: nextProps.ik[1][1],\n        z: nextProps.ik[1][2]\n      }).y - nextProps.translations.transY, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[1][0],\n        y: nextProps.ik[1][1],\n        z: nextProps.ik[1][2]\n      }).z - nextProps.translations.transZ], [this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[2][0],\n        y: nextProps.ik[2][1],\n        z: nextProps.ik[2][2]\n      }).x - nextProps.translations.transX, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[2][0],\n        y: nextProps.ik[2][1],\n        z: nextProps.ik[2][2]\n      }).y - nextProps.translations.transY, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[2][0],\n        y: nextProps.ik[2][1],\n        z: nextProps.ik[2][2]\n      }).z - nextProps.translations.transZ], [this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[3][0],\n        y: nextProps.ik[3][1],\n        z: nextProps.ik[3][2]\n      }).x - nextProps.translations.transX, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[3][0],\n        y: nextProps.ik[3][1],\n        z: nextProps.ik[3][2]\n      }).y - nextProps.translations.transY, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[3][0],\n        y: nextProps.ik[3][1],\n        z: nextProps.ik[3][2]\n      }).z - nextProps.translations.transZ]];\n      this.leg_1 = this.bot.getFK(this.preapreJointIK(1, this.joint_1, this.bot.getIK(this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[0][0],\n        y: nextProps.ik[0][1],\n        z: nextProps.ik[0][2]\n      }).x - nextProps.translations.transX, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[0][0],\n        y: nextProps.ik[0][1],\n        z: nextProps.ik[0][2]\n      }).y - nextProps.translations.transY, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[0][0],\n        y: nextProps.ik[0][1],\n        z: nextProps.ik[0][2]\n      }).z - nextProps.translations.transZ, this.joint_1), nextProps.lengths));\n      this.leg_2 = this.bot.getFK(this.preapreJointIK(2, this.joint_2, this.bot.getIK(this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[1][0],\n        y: nextProps.ik[1][1],\n        z: nextProps.ik[1][2]\n      }).x - nextProps.translations.transX, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[1][0],\n        y: nextProps.ik[1][1],\n        z: nextProps.ik[1][2]\n      }).y - nextProps.translations.transY, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[1][0],\n        y: nextProps.ik[1][1],\n        z: nextProps.ik[1][2]\n      }).z - nextProps.translations.transZ, this.joint_2), nextProps.lengths));\n      this.leg_3 = this.bot.getFK(this.preapreJointIK(3, this.joint_3, this.bot.getIK(this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[2][0],\n        y: nextProps.ik[2][1],\n        z: nextProps.ik[2][2]\n      }).x - nextProps.translations.transX, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[2][0],\n        y: nextProps.ik[2][1],\n        z: nextProps.ik[2][2]\n      }).y - nextProps.translations.transY, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[2][0],\n        y: nextProps.ik[2][1],\n        z: nextProps.ik[2][2]\n      }).z - nextProps.translations.transZ, this.joint_3), nextProps.lengths));\n      this.leg_4 = this.bot.getFK(this.preapreJointIK(4, this.joint_4, this.bot.getIK(this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[3][0],\n        y: nextProps.ik[3][1],\n        z: nextProps.ik[3][2]\n      }).x - nextProps.translations.transX, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[3][0],\n        y: nextProps.ik[3][1],\n        z: nextProps.ik[3][2]\n      }).y - nextProps.translations.transY, this.handleRotation(nextProps.rotations, {\n        x: nextProps.ik[3][0],\n        y: nextProps.ik[3][1],\n        z: nextProps.ik[3][2]\n      }).z - nextProps.translations.transZ, this.joint_4), nextProps.lengths));\n    }\n  }\n\n  render() {\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 644\n      },\n      __self: this\n    }, React.createElement(Plot, {\n      data: [{\n        x: this.state.bodyDimension.x,\n        y: this.state.bodyDimension.y,\n        z: this.state.bodyDimension.z,\n        type: \"mesh3d\",\n        mode: \"lines+markers\",\n        line: {\n          width: 6,\n          colorscale: \"Viridis\"\n        },\n        marker: {\n          size: 3.5,\n          colorscale: \"Greens\",\n          cmin: -20,\n          cmax: 50\n        }\n      }, {\n        // LEG 1\n        x: [this.leg_1[0][0], this.leg_1[1][0], this.leg_1[2][0]],\n        y: [this.leg_1[0][1], this.leg_1[1][1], this.leg_1[2][1]],\n        z: [this.leg_1[0][2], this.leg_1[1][2], this.leg_1[2][2]],\n        type: \"scatter3d\",\n        mode: \"lines+markers\",\n        line: {\n          width: 6,\n          colorscale: \"Viridis\"\n        },\n        marker: {\n          size: 3.5,\n          colorscale: \"Reds\",\n          cmin: -20,\n          cmax: 50\n        }\n      }, {\n        // LEG 2\n        x: [this.leg_2[0][0], this.leg_2[1][0], this.leg_2[2][0]],\n        y: [this.leg_2[0][1], this.leg_2[1][1], this.leg_2[2][1]],\n        z: [this.leg_2[0][2], this.leg_2[1][2], this.leg_2[2][2]],\n        type: \"scatter3d\",\n        mode: \"lines+markers\",\n        line: {\n          width: 6,\n          colorscale: \"Viridis\"\n        },\n        marker: {\n          size: 3.5,\n          colorscale: \"Greens\",\n          cmin: -20,\n          cmax: 50\n        }\n      }, {\n        // LEG 3\n        x: [this.leg_3[0][0], this.leg_3[1][0], this.leg_3[2][0]],\n        y: [this.leg_3[0][1], this.leg_3[1][1], this.leg_3[2][1]],\n        z: [this.leg_3[0][2], this.leg_3[1][2], this.leg_3[2][2]],\n        type: \"scatter3d\",\n        mode: \"lines+markers\",\n        line: {\n          width: 6,\n          colorscale: \"Viridis\"\n        },\n        marker: {\n          size: 3.5,\n          colorscale: \"Greens\",\n          cmin: -20,\n          cmax: 50\n        }\n      }, {\n        // LEG 4\n        x: [this.leg_4[0][0], this.leg_4[1][0], this.leg_4[2][0]],\n        y: [this.leg_4[0][1], this.leg_4[1][1], this.leg_4[2][1]],\n        z: [this.leg_4[0][2], this.leg_4[1][2], this.leg_4[2][2]],\n        type: \"scatter3d\",\n        mode: \"lines+markers\",\n        line: {\n          width: 6,\n          colorscale: \"Viridis\"\n        },\n        marker: {\n          size: 3.5,\n          colorscale: \"Greens\",\n          cmin: -20,\n          cmax: 50\n        }\n      }, {\n        x: this.props.showMesh ? this.getGeneratedMesh().x : [0],\n        y: this.props.showMesh ? this.getGeneratedMesh().y : [0],\n        z: this.props.showMesh ? this.getGeneratedMesh().z : [0],\n        color: \"rgb(300,100,200)\",\n        type: \"mesh3d\",\n        opacity: 0.3\n      }],\n      layout: {\n        autosize: false,\n        height: 999,\n        width: 1080,\n        scene: {\n          aspectmode: \"manual\",\n          aspectratio: {\n            x: 1,\n            y: 1,\n            z: 1\n          },\n          xaxis: {\n            nticks: 9,\n            range: [-350, 350]\n          },\n          yaxis: {\n            nticks: 7,\n            range: [-350, 350]\n          },\n          zaxis: {\n            nticks: 10,\n            range: [-350, 350]\n          }\n        },\n        legend: {\n          bgcolor: \"#ffffff1c\",\n          orientation: \"h\",\n          font: {\n            color: \"black\",\n            family: \"Montserrat\"\n          }\n        },\n        title: {\n          text: \"Quadruped Simulation\",\n          font: {\n            family: \"Montserrat\",\n            size: 24,\n            color: \"black\"\n          },\n          xref: \"paper\"\n        }\n      },\n      frames: [{\n        // LEG 1\n        x: [0, this.leg_1[0][0], this.leg_1[1][0], this.leg_1[2][0]],\n        y: [0, this.leg_1[0][1], this.leg_1[1][1], this.leg_1[2][1]],\n        z: [0, this.leg_1[0][2], this.leg_1[1][2], this.leg_1[2][2]],\n        type: \"scatter3d\",\n        mode: \"lines+markers\",\n        line: {\n          width: 6,\n          colorscale: \"Viridis\"\n        },\n        marker: {\n          size: 3.5,\n          colorscale: \"Reds\",\n          cmin: -20,\n          cmax: 50\n        }\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 645\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/pratikgurudatt/Desktop/code/mine/Thesis/Quadruped/Simulator/Quadruped-Simulation-/src/Components/PlotArea/mainPlot.js"],"names":["React","Component","styled","Plot","Container","div","Joint","constructor","link_1","link_2","link_3","theta_1","theta_2","theta_3","name","joint","rad2deg","value","pi","Math","PI","deg2rad","degrees","printJoint","console","log","Robot","bodyRadius","getRobotBody","rads","x","y","z","_filterEndPoint","point_set","_multiplyMatrices","firstArray","secondArray","resultingArray","n","i","push","j","k","getFK","T0_1","cos","sin","T0_2","T0_3","T0_4","point_set_1","point_set_2","point_set_3","getIK","atan2","A","B","C","pow","sqrt","D","E","numerator","denominator","getFrame","frameCount","props","PlotArea","preapreJointIK","leg","prop","length","coxa","tibia","femur","prepareJointFK","handleRotation","rotation","currentPoint","rotX","rotY","rotZ","rotationMatrix","getGeneratedMesh","mesh","endEffectorPoints","bot","joint_1","joint_2","joint_3","joint_4","choice","leg_1","fk","lengths","leg_2","leg_3","leg_4","ik","state","bodyDimension","radius","componentDidMount","componentWillReceiveProps","nextProps","setState","translations","transX","transY","transZ","rotations","render","type","mode","line","width","colorscale","marker","size","cmin","cmax","showMesh","color","opacity","autosize","height","scene","aspectmode","aspectratio","xaxis","nticks","range","yaxis","zaxis","legend","bgcolor","orientation","font","family","title","text","xref"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Plot from \"react-plotly.js\";\n\nexport const Container = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  background-color: rgba(255, 255, 255, 0.2);\n  border-radius: 5px;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nclass Joint {\n  constructor(link_1, link_2, link_3, theta_1, theta_2, theta_3, name) {\n    this.joint = {\n      theta_1: theta_1,\n      theta_2: theta_2,\n      theta_3: theta_3,\n\n      link_1: link_1,\n      link_2: link_2,\n      link_3: link_3,\n      name: name,\n    };\n  }\n\n  rad2deg(value) {\n    var pi = Math.PI;\n    return value * (180 / pi);\n  }\n\n  deg2rad(degrees) {\n    var pi = Math.PI;\n    return degrees * (pi / 180);\n  }\n\n  printJoint() {\n    console.log(\"Link 1: \" + this.theta_1);\n    console.log(\"link 2: \" + this.theta_2);\n    console.log(\"link 3: \" + this.theta_3);\n  }\n}\n\nclass Robot {\n  constructor() {\n    this.bodyRadius = 0;\n  }\n\n  getRobotBody(rads) {\n    //[ -50, 50, 50, -50, -50 ], [ -50, -50, 50, 50, -50 ], [0, 0, 0, 0, 0]\n    let x = [-rads, rads, rads, -rads, -rads];\n    let y = [-rads, -rads, rads, rads, -rads];\n    let z = [0, 0, 0, 0, 0];\n    return {\n      x: x,\n      y: y,\n      z: z,\n    };\n  }\n\n  _filterEndPoint(point_set) {\n    return [\n      [point_set[0][0][3], point_set[0][1][3], point_set[0][2][3]],\n      [point_set[1][0][3], point_set[1][1][3], point_set[1][2][3]],\n      [point_set[2][0][3], point_set[2][1][3], point_set[2][2][3]],\n    ];\n  }\n\n  _multiplyMatrices(firstArray, secondArray) {\n    let resultingArray = [];\n    let n = 4;\n    for (let i = 0; i < n; i++) {\n      resultingArray.push([]);\n      for (let j = 0; j < n; j++) {\n        resultingArray[i][j] = 0;\n        for (let k = 0; k < n; k++) {\n          resultingArray[i][j] += firstArray[i][k] * secondArray[k][j];\n        }\n      }\n    }\n    return resultingArray;\n  }\n\n  getFK(joint) {\n    let T0_1 = [\n      [Math.cos(joint.theta_1), -Math.sin(joint.theta_1), 0, 0],\n      [Math.sin(joint.theta_1), Math.cos(joint.theta_1), 0, 0],\n      [0, 0, 1, 0],\n      [0, 0, 0, 1],\n    ];\n\n    let T0_2 = [\n      [Math.cos(joint.theta_2), -Math.sin(joint.theta_2), 0, joint.link_1],\n      [0, 0, -1, 0],\n      [Math.sin(joint.theta_2), Math.cos(joint.theta_2), 0, 0],\n      [0, 0, 0, 1],\n    ];\n\n    let T0_3 = [\n      [Math.cos(joint.theta_3), -Math.sin(joint.theta_3), 0, joint.link_2],\n      [Math.sin(joint.theta_3), Math.cos(joint.theta_3), 0, 0],\n      [0, 0, 1, 0],\n      [0, 0, 0, 1],\n    ];\n\n    let T0_4 = [\n      [1, 0, 0, joint.link_3],\n      [0, 1, 0, 0],\n      [0, 0, 1, 0],\n      [0, 0, 0, 1],\n    ];\n\n    let point_set_1 = this._multiplyMatrices(T0_1, T0_2);\n    let point_set_2 = this._multiplyMatrices(point_set_1, T0_3);\n    let point_set_3 = this._multiplyMatrices(point_set_2, T0_4);\n\n    return this._filterEndPoint([point_set_1, point_set_2, point_set_3]);\n  }\n\n  getIK(x, y, z, joint) {\n    let theta_1 = Math.atan2(y, x);\n    let A = z;\n    let B = Math.cos(theta_1) * x + y * Math.sin(theta_1) - joint.link_1;\n    let C =\n      (Math.pow(A, 2) +\n        Math.pow(B, 2) -\n        Math.pow(joint.link_3, 2) -\n        Math.pow(joint.link_2, 2)) /\n      (2 * joint.link_3 * joint.link_2);\n    let theta_3 = Math.atan2(Math.sqrt(1 - Math.pow(C, 2)), C);\n    let D = Math.cos(theta_3) * joint.link_3 + joint.link_2;\n    let E = Math.sin(theta_3) * joint.link_3;\n\n    let numerator = (A * D - B * E) / (Math.pow(E, 2) + Math.pow(D, 2));\n    let denominator = 1 - Math.pow(numerator, 2);\n\n    let theta_2 = Math.atan2(numerator, Math.sqrt(denominator));\n\n    joint.theta_1 = joint.rad2deg(theta_1);\n    joint.theta_2 = joint.rad2deg(theta_2);\n    joint.theta_3 = joint.rad2deg(theta_3);\n\n    return joint;\n  }\n\n  getFrame(frameCount, props) {}\n}\n\nexport default class PlotArea extends Component {\n  constructor(props) {\n    super();\n    this.bot = new Robot(props);\n    this.joint_1 = new Joint(120, 110, 120, 0, 0, 0);\n    this.joint_2 = new Joint(120, 110, 120, 0, 0, 0);\n    this.joint_3 = new Joint(120, 110, 120, 0, 0, 0);\n    this.joint_4 = new Joint(120, 110, 120, 0, 0, 0);\n\n    this.endEffectorPoints = [[], [], [], []];\n    if (props.choice) {\n      this.leg_1 = this.bot.getFK(\n        this.prepareJointFK(1, this.joint_1, props.fk, props.lengths)\n      );\n      this.leg_2 = this.bot.getFK(\n        this.prepareJointFK(2, this.joint_2, props.fk, props.lengths)\n      );\n      this.leg_3 = this.bot.getFK(\n        this.prepareJointFK(3, this.joint_3, props.fk, props.lengths)\n      );\n      this.leg_4 = this.bot.getFK(\n        this.prepareJointFK(4, this.joint_4, props.fk, props.lengths)\n      );\n    } else {\n      this.leg_1 = this.bot.getFK(\n        this.preapreJointIK(\n          1,\n          this.joint_1,\n          this.bot.getIK(\n            props.ik[0][0],\n            props.ik[0][1],\n            props.ik[0][2] || props.frameCount,\n            this.joint_1\n          )\n        )\n      );\n\n      this.leg_2 = this.bot.getFK(\n        this.preapreJointIK(\n          2,\n          this.joint_2,\n          this.bot.getIK(\n            props.ik[1][0],\n            props.ik[1][1],\n            props.ik[1][2],\n            this.joint_2\n          )\n        )\n      );\n\n      this.leg_3 = this.bot.getFK(\n        this.preapreJointIK(\n          3,\n          this.joint_3,\n          this.bot.getIK(\n            props.ik[2][0],\n            props.ik[2][1],\n            props.ik[2][2],\n            this.joint_3\n          )\n        )\n      );\n\n      this.leg_4 = this.bot.getFK(\n        this.preapreJointIK(\n          4,\n          this.joint_4,\n          this.bot.getIK(\n            props.ik[3][0],\n            props.ik[3][1],\n            props.ik[3][2],\n            this.joint_4\n          )\n        )\n      );\n    }\n\n    this.state = {\n      bodyDimension: this.bot.getRobotBody(props.radius),\n      endEffectorPoints: [],\n    };\n  }\n\n  componentDidMount() {\n    // if (this.props.choice === \"IK\") {\n    //   for (let i = 0; i < 100; i++) {\n    //     this.leg_1 = this.bot.getFK(\n    //       this.preapreJointIK(\n    //         1,\n    //         this.joint_1,\n    //         this.bot.getIK(\n    //           this.props.ik[0][0],\n    //           this.props.ik[0][1],\n    //           i,\n    //           this.joint_1\n    //         ),\n    //         this.props.lengths\n    //       )\n    //     );\n    //   }\n    // }\n  }\n\n  preapreJointIK = (leg, joint, prop, length) => {\n    switch (leg) {\n      case 1: {\n        joint.theta_1 = -joint.deg2rad(prop.theta_1);\n        joint.theta_2 = -joint.deg2rad(prop.theta_2);\n        joint.theta_3 = -joint.deg2rad(prop.theta_3);\n        joint.link_1 = length?.coxa;\n        joint.link_2 = length?.tibia;\n        joint.link_3 = length?.femur;\n        break;\n      }\n\n      case 2: {\n        joint.theta_1 = -joint.deg2rad(prop.theta_1);\n        joint.theta_2 = -joint.deg2rad(prop.theta_2);\n        joint.theta_3 = -joint.deg2rad(prop.theta_3);\n        joint.link_1 = length?.coxa;\n        joint.link_2 = length?.tibia;\n        joint.link_3 = length?.femur;\n        break;\n      }\n\n      case 3: {\n        joint.theta_1 = -joint.deg2rad(prop.theta_1);\n        joint.theta_2 = -joint.deg2rad(prop.theta_2);\n        joint.theta_3 = -joint.deg2rad(prop.theta_3);\n        joint.link_1 = length?.coxa;\n        joint.link_2 = length?.tibia;\n        joint.link_3 = length?.femur;\n        break;\n      }\n\n      case 4: {\n        joint.theta_1 = -joint.deg2rad(prop.theta_1);\n        joint.theta_2 = -joint.deg2rad(prop.theta_2);\n        joint.theta_3 = -joint.deg2rad(prop.theta_3);\n        joint.link_1 = length?.coxa;\n        joint.link_2 = length?.tibia;\n        joint.link_3 = length?.femur;\n        break;\n      }\n\n      default: {\n      }\n    }\n    return joint;\n  };\n\n  deg2rad(degrees) {\n    var pi = Math.PI;\n    return degrees * (pi / 180);\n  }\n\n  prepareJointFK = (leg, joint, props, length) => {\n    switch (leg) {\n      case 1: {\n        joint.theta_1 = -joint.deg2rad(props[0][0]);\n        joint.theta_2 = -joint.deg2rad(180 - props[0][1] - 90);\n        joint.theta_3 = -joint.deg2rad(180 - props[0][2] - 90);\n        joint.link_1 = length.coxa;\n        joint.link_2 = length.tibia;\n        joint.link_3 = length.femur;\n        break;\n      }\n\n      case 2: {\n        joint.theta_1 = -joint.deg2rad(180 - props[1][0]);\n        joint.theta_2 = -joint.deg2rad(180 - props[1][1] - 90);\n        joint.theta_3 = -joint.deg2rad(180 - props[1][2] - 90);\n        joint.link_1 = length.coxa;\n        joint.link_2 = length.tibia;\n        joint.link_3 = length.femur;\n        break;\n      }\n\n      case 3: {\n        joint.theta_1 = -joint.deg2rad(props[2][0] - 180);\n        joint.theta_2 = -joint.deg2rad(180 - props[2][1] - 90);\n        joint.theta_3 = -joint.deg2rad(180 - props[2][2] - 90);\n        joint.link_1 = length.coxa;\n        joint.link_2 = length.tibia;\n        joint.link_3 = length.femur;\n        break;\n      }\n\n      case 4: {\n        joint.theta_1 = -joint.deg2rad(props[3][0] - 180);\n        joint.theta_2 = -joint.deg2rad(180 - props[3][1] - 90);\n        joint.theta_3 = -joint.deg2rad(180 - props[3][2] - 90);\n        joint.link_1 = length.coxa;\n        joint.link_2 = length.tibia;\n        joint.link_3 = length.femur;\n        break;\n      }\n    }\n    return joint;\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      bodyDimension: this.bot.getRobotBody(nextProps.radius),\n    });\n\n    if (nextProps.choice) {\n      this.leg_1 = this.bot.getFK(\n        this.prepareJointFK(1, this.joint_1, nextProps.fk, nextProps.lengths)\n      );\n      this.leg_2 = this.bot.getFK(\n        this.prepareJointFK(2, this.joint_2, nextProps.fk, nextProps.lengths)\n      );\n      this.leg_3 = this.bot.getFK(\n        this.prepareJointFK(3, this.joint_3, nextProps.fk, nextProps.lengths)\n      );\n      this.leg_4 = this.bot.getFK(\n        this.prepareJointFK(4, this.joint_4, nextProps.fk, nextProps.lengths)\n      );\n\n      this.endEffectorPoints = [\n        [\n          this.leg_1[2][0] - nextProps.translations.transX,\n          -this.leg_1[2][1] - nextProps.translations.transY,\n          -this.leg_1[2][2] - nextProps.translations.transZ,\n        ],\n        [\n          this.leg_2[2][0] - nextProps.translations.transX,\n          -this.leg_2[2][1] - nextProps.translations.transY,\n          -this.leg_2[2][2] - nextProps.translations.transZ,\n        ],\n        [\n          this.leg_3[2][0] - nextProps.translations.transX,\n          -this.leg_3[2][1] - nextProps.translations.transY,\n          -this.leg_3[2][2] - nextProps.translations.transZ,\n        ],\n        [\n          this.leg_4[2][0] - nextProps.translations.transX,\n          -this.leg_4[2][1] - nextProps.translations.transY,\n          -this.leg_4[2][2] - nextProps.translations.transZ,\n        ],\n      ];\n    } else {\n      this.endEffectorPoints = [\n        [\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[0][0],\n            y: nextProps.ik[0][1],\n            z: nextProps.ik[0][2],\n          }).x - nextProps.translations.transX,\n\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[0][0],\n            y: nextProps.ik[0][1],\n            z: nextProps.ik[0][2],\n          }).y - nextProps.translations.transY,\n\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[0][0],\n            y: nextProps.ik[0][1],\n            z: nextProps.ik[0][2],\n          }).z - nextProps.translations.transZ,\n        ],\n        [\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[1][0],\n            y: nextProps.ik[1][1],\n            z: nextProps.ik[1][2],\n          }).x - nextProps.translations.transX,\n\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[1][0],\n            y: nextProps.ik[1][1],\n            z: nextProps.ik[1][2],\n          }).y - nextProps.translations.transY,\n\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[1][0],\n            y: nextProps.ik[1][1],\n            z: nextProps.ik[1][2],\n          }).z - nextProps.translations.transZ,\n        ],\n        [\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[2][0],\n            y: nextProps.ik[2][1],\n            z: nextProps.ik[2][2],\n          }).x - nextProps.translations.transX,\n\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[2][0],\n            y: nextProps.ik[2][1],\n            z: nextProps.ik[2][2],\n          }).y - nextProps.translations.transY,\n\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[2][0],\n            y: nextProps.ik[2][1],\n            z: nextProps.ik[2][2],\n          }).z - nextProps.translations.transZ,\n        ],\n        [\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[3][0],\n            y: nextProps.ik[3][1],\n            z: nextProps.ik[3][2],\n          }).x - nextProps.translations.transX,\n\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[3][0],\n            y: nextProps.ik[3][1],\n            z: nextProps.ik[3][2],\n          }).y - nextProps.translations.transY,\n\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[3][0],\n            y: nextProps.ik[3][1],\n            z: nextProps.ik[3][2],\n          }).z - nextProps.translations.transZ,\n        ],\n      ];\n\n      this.leg_1 = this.bot.getFK(\n        this.preapreJointIK(\n          1,\n          this.joint_1,\n          this.bot.getIK(\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[0][0],\n              y: nextProps.ik[0][1],\n              z: nextProps.ik[0][2],\n            }).x - nextProps.translations.transX,\n\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[0][0],\n              y: nextProps.ik[0][1],\n              z: nextProps.ik[0][2],\n            }).y - nextProps.translations.transY,\n\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[0][0],\n              y: nextProps.ik[0][1],\n              z: nextProps.ik[0][2],\n            }).z - nextProps.translations.transZ,\n            this.joint_1\n          ),\n          nextProps.lengths\n        )\n      );\n\n      this.leg_2 = this.bot.getFK(\n        this.preapreJointIK(\n          2,\n          this.joint_2,\n          this.bot.getIK(\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[1][0],\n              y: nextProps.ik[1][1],\n              z: nextProps.ik[1][2],\n            }).x - nextProps.translations.transX,\n\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[1][0],\n              y: nextProps.ik[1][1],\n              z: nextProps.ik[1][2],\n            }).y - nextProps.translations.transY,\n\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[1][0],\n              y: nextProps.ik[1][1],\n              z: nextProps.ik[1][2],\n            }).z - nextProps.translations.transZ,\n            this.joint_2\n          ),\n          nextProps.lengths\n        )\n      );\n\n      this.leg_3 = this.bot.getFK(\n        this.preapreJointIK(\n          3,\n          this.joint_3,\n          this.bot.getIK(\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[2][0],\n              y: nextProps.ik[2][1],\n              z: nextProps.ik[2][2],\n            }).x - nextProps.translations.transX,\n\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[2][0],\n              y: nextProps.ik[2][1],\n              z: nextProps.ik[2][2],\n            }).y - nextProps.translations.transY,\n\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[2][0],\n              y: nextProps.ik[2][1],\n              z: nextProps.ik[2][2],\n            }).z - nextProps.translations.transZ,\n            this.joint_3\n          ),\n          nextProps.lengths\n        )\n      );\n\n      this.leg_4 = this.bot.getFK(\n        this.preapreJointIK(\n          4,\n          this.joint_4,\n          this.bot.getIK(\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[3][0],\n              y: nextProps.ik[3][1],\n              z: nextProps.ik[3][2],\n            }).x - nextProps.translations.transX,\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[3][0],\n              y: nextProps.ik[3][1],\n              z: nextProps.ik[3][2],\n            }).y - nextProps.translations.transY,\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[3][0],\n              y: nextProps.ik[3][1],\n              z: nextProps.ik[3][2],\n            }).z - nextProps.translations.transZ,\n            this.joint_4\n          ),\n          nextProps.lengths\n        )\n      );\n    }\n  }\n\n  handleRotation = (rotation, currentPoint) => {\n    let theta_1 = this.deg2rad(rotation.rotX);\n    let theta_2 = this.deg2rad(rotation.rotY);\n    let theta_3 = this.deg2rad(rotation.rotZ);\n\n    let x = currentPoint.x;\n    let y = currentPoint.y;\n    let z = currentPoint.z;\n\n    let rotationMatrix = [\n      y *\n        (Math.cos(theta_1) * Math.sin(theta_3) +\n          Math.cos(theta_3) * Math.sin(theta_1) * Math.sin(theta_2)) +\n        z *\n          (Math.sin(theta_1) * Math.sin(theta_3) -\n            Math.cos(theta_1) * Math.cos(theta_3) * Math.sin(theta_2)) +\n        x * Math.cos(theta_2) * Math.cos(theta_3),\n      y *\n        (Math.cos(theta_1) * Math.cos(theta_3) -\n          Math.sin(theta_1) * Math.sin(theta_2) * Math.sin(theta_3)) +\n        z *\n          (Math.cos(theta_3) * Math.sin(theta_1) +\n            Math.cos(theta_1) * Math.sin(theta_2) * Math.sin(theta_3)) -\n        x * Math.cos(theta_2) * Math.sin(theta_3),\n      x * Math.sin(theta_2) +\n        z * Math.cos(theta_1) * Math.cos(theta_2) -\n        y * Math.cos(theta_2) * Math.sin(theta_1),\n    ];\n\n    return { x: rotationMatrix[0], y: rotationMatrix[1], z: rotationMatrix[2] };\n  };\n\n  getGeneratedMesh = () => {\n    let mesh = {\n      x: [\n        this.endEffectorPoints[0][0],\n        this.endEffectorPoints[1][0],\n        this.endEffectorPoints[2][0],\n        this.endEffectorPoints[3][0],\n      ],\n      y: [\n        -this.endEffectorPoints[0][1],\n        -this.endEffectorPoints[1][1],\n        -this.endEffectorPoints[2][1],\n        -this.endEffectorPoints[3][1],\n      ],\n      z: [\n        -this.endEffectorPoints[0][2],\n        -this.endEffectorPoints[1][2],\n        -this.endEffectorPoints[2][2],\n        -this.endEffectorPoints[3][2],\n      ],\n    };\n    return mesh;\n  };\n\n  render() {\n    return (\n      <Container>\n        <Plot\n          data={[\n            {\n              x: this.state.bodyDimension.x,\n              y: this.state.bodyDimension.y,\n              z: this.state.bodyDimension.z,\n              type: \"mesh3d\",\n              mode: \"lines+markers\",\n              line: {\n                width: 6,\n                colorscale: \"Viridis\",\n              },\n              marker: {\n                size: 3.5,\n                colorscale: \"Greens\",\n                cmin: -20,\n                cmax: 50,\n              },\n            },\n            {\n              // LEG 1\n              x: [this.leg_1[0][0], this.leg_1[1][0], this.leg_1[2][0]],\n              y: [this.leg_1[0][1], this.leg_1[1][1], this.leg_1[2][1]],\n              z: [this.leg_1[0][2], this.leg_1[1][2], this.leg_1[2][2]],\n              type: \"scatter3d\",\n              mode: \"lines+markers\",\n              line: {\n                width: 6,\n                colorscale: \"Viridis\",\n              },\n              marker: {\n                size: 3.5,\n                colorscale: \"Reds\",\n                cmin: -20,\n                cmax: 50,\n              },\n            },\n            {\n              // LEG 2\n              x: [this.leg_2[0][0], this.leg_2[1][0], this.leg_2[2][0]],\n              y: [this.leg_2[0][1], this.leg_2[1][1], this.leg_2[2][1]],\n              z: [this.leg_2[0][2], this.leg_2[1][2], this.leg_2[2][2]],\n              type: \"scatter3d\",\n              mode: \"lines+markers\",\n              line: {\n                width: 6,\n                colorscale: \"Viridis\",\n              },\n              marker: {\n                size: 3.5,\n                colorscale: \"Greens\",\n                cmin: -20,\n                cmax: 50,\n              },\n            },\n            {\n              // LEG 3\n              x: [this.leg_3[0][0], this.leg_3[1][0], this.leg_3[2][0]],\n              y: [this.leg_3[0][1], this.leg_3[1][1], this.leg_3[2][1]],\n              z: [this.leg_3[0][2], this.leg_3[1][2], this.leg_3[2][2]],\n              type: \"scatter3d\",\n              mode: \"lines+markers\",\n              line: {\n                width: 6,\n                colorscale: \"Viridis\",\n              },\n              marker: {\n                size: 3.5,\n                colorscale: \"Greens\",\n                cmin: -20,\n                cmax: 50,\n              },\n            },\n            {\n              // LEG 4\n              x: [this.leg_4[0][0], this.leg_4[1][0], this.leg_4[2][0]],\n              y: [this.leg_4[0][1], this.leg_4[1][1], this.leg_4[2][1]],\n              z: [this.leg_4[0][2], this.leg_4[1][2], this.leg_4[2][2]],\n              type: \"scatter3d\",\n              mode: \"lines+markers\",\n              line: {\n                width: 6,\n                colorscale: \"Viridis\",\n              },\n              marker: {\n                size: 3.5,\n                colorscale: \"Greens\",\n                cmin: -20,\n                cmax: 50,\n              },\n            },\n            {\n              x: this.props.showMesh ? this.getGeneratedMesh().x : [0],\n              y: this.props.showMesh ? this.getGeneratedMesh().y : [0],\n              z: this.props.showMesh ? this.getGeneratedMesh().z : [0],\n              color: \"rgb(300,100,200)\",\n              type: \"mesh3d\",\n              opacity: 0.3,\n            },\n          ]}\n          layout={{\n            autosize: false,\n            height: 999,\n            width: 1080,\n            scene: {\n              aspectmode: \"manual\",\n              aspectratio: {\n                x: 1,\n                y: 1,\n                z: 1,\n              },\n              xaxis: {\n                nticks: 9,\n                range: [-350, 350],\n              },\n              yaxis: {\n                nticks: 7,\n                range: [-350, 350],\n              },\n              zaxis: {\n                nticks: 10,\n                range: [-350, 350],\n              },\n            },\n\n            legend: {\n              bgcolor: \"#ffffff1c\",\n              orientation: \"h\",\n              font: {\n                color: \"black\",\n                family: \"Montserrat\",\n              },\n            },\n            title: {\n              text: \"Quadruped Simulation\",\n              font: {\n                family: \"Montserrat\",\n                size: 24,\n                color: \"black\",\n              },\n\n              xref: \"paper\",\n            },\n          }}\n          frames={[\n            {\n              // LEG 1\n              x: [0, this.leg_1[0][0], this.leg_1[1][0], this.leg_1[2][0]],\n              y: [0, this.leg_1[0][1], this.leg_1[1][1], this.leg_1[2][1]],\n              z: [0, this.leg_1[0][2], this.leg_1[1][2], this.leg_1[2][2]],\n              type: \"scatter3d\",\n              mode: \"lines+markers\",\n              line: {\n                width: 6,\n                colorscale: \"Viridis\",\n              },\n              marker: {\n                size: 3.5,\n                colorscale: \"Reds\",\n                cmin: -20,\n                cmax: 50,\n              },\n            },\n          ]}\n        />\n      </Container>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}