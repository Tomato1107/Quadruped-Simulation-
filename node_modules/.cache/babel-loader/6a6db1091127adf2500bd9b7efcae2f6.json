{"ast":null,"code":"import _possibleConstructorReturn from\"/Users/pratikgurudatt/Desktop/code/mine/Thesis/Quadruped/Simulator/Quadruped-Simulation-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/pratikgurudatt/Desktop/code/mine/Thesis/Quadruped/Simulator/Quadruped-Simulation-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/pratikgurudatt/Desktop/code/mine/Thesis/Quadruped/Simulator/Quadruped-Simulation-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _classCallCheck from\"/Users/pratikgurudatt/Desktop/code/mine/Thesis/Quadruped/Simulator/Quadruped-Simulation-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pratikgurudatt/Desktop/code/mine/Thesis/Quadruped/Simulator/Quadruped-Simulation-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _taggedTemplateLiteral from\"/Users/pratikgurudatt/Desktop/code/mine/Thesis/Quadruped/Simulator/Quadruped-Simulation-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  background-color: rgba(255, 255, 255, 0.2);\\n  border-radius: 5px;\\n  justify-content: center;\\n  align-items: center;\\n  flex-direction: column;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{Component}from\"react\";import styled from\"styled-components\";import Plot from\"react-plotly.js\";export var Container=styled.div(_templateObject());var Joint=/*#__PURE__*/function(){function Joint(link_1,link_2,link_3,theta_1,theta_2,theta_3,name){_classCallCheck(this,Joint);this.joint={theta_1:theta_1,theta_2:theta_2,theta_3:theta_3,link_1:link_1,link_2:link_2,link_3:link_3,name:name};}_createClass(Joint,[{key:\"rad2deg\",value:function rad2deg(value){var pi=Math.PI;return value*(180/pi);}},{key:\"deg2rad\",value:function deg2rad(degrees){var pi=Math.PI;return degrees*(pi/180);}},{key:\"printJoint\",value:function printJoint(){console.log(\"Link 1: \"+this.theta_1);console.log(\"link 2: \"+this.theta_2);console.log(\"link 3: \"+this.theta_3);}}]);return Joint;}();var Robot=/*#__PURE__*/function(){function Robot(){_classCallCheck(this,Robot);this.bodyRadius=0;}_createClass(Robot,[{key:\"getRobotBody\",value:function getRobotBody(rads){//[ -50, 50, 50, -50, -50 ], [ -50, -50, 50, 50, -50 ], [0, 0, 0, 0, 0]\nvar x=[-rads,rads,rads,-rads,-rads];var y=[-rads,-rads,rads,rads,-rads];var z=[0,0,0,0,0];return{x:x,y:y,z:z};}},{key:\"_filterEndPoint\",value:function _filterEndPoint(point_set){return[[point_set[0][0][3],point_set[0][1][3],point_set[0][2][3]],[point_set[1][0][3],point_set[1][1][3],point_set[1][2][3]],[point_set[2][0][3],point_set[2][1][3],point_set[2][2][3]]];}},{key:\"_multiplyMatrices\",value:function _multiplyMatrices(firstArray,secondArray){var resultingArray=[];var n=4;for(var i=0;i<n;i++){resultingArray.push([]);for(var j=0;j<n;j++){resultingArray[i][j]=0;for(var k=0;k<n;k++){resultingArray[i][j]+=firstArray[i][k]*secondArray[k][j];}}}return resultingArray;}},{key:\"getFK\",value:function getFK(joint){var T0_1=[[Math.cos(joint.theta_1),-Math.sin(joint.theta_1),0,0],[Math.sin(joint.theta_1),Math.cos(joint.theta_1),0,0],[0,0,1,0],[0,0,0,1]];var T0_2=[[Math.cos(joint.theta_2),-Math.sin(joint.theta_2),0,joint.link_1],[0,0,-1,0],[Math.sin(joint.theta_2),Math.cos(joint.theta_2),0,0],[0,0,0,1]];var T0_3=[[Math.cos(joint.theta_3),-Math.sin(joint.theta_3),0,joint.link_2],[Math.sin(joint.theta_3),Math.cos(joint.theta_3),0,0],[0,0,1,0],[0,0,0,1]];var T0_4=[[1,0,0,joint.link_3],[0,1,0,0],[0,0,1,0],[0,0,0,1]];var point_set_1=this._multiplyMatrices(T0_1,T0_2);var point_set_2=this._multiplyMatrices(point_set_1,T0_3);var point_set_3=this._multiplyMatrices(point_set_2,T0_4);return this._filterEndPoint([point_set_1,point_set_2,point_set_3]);}},{key:\"getIK\",value:function getIK(x,y,z,joint){var theta_1=Math.atan2(y,x);var A=z;var B=Math.cos(theta_1)*x+y*Math.sin(theta_1)-joint.link_1;var C=(Math.pow(A,2)+Math.pow(B,2)-Math.pow(joint.link_3,2)-Math.pow(joint.link_2,2))/(2*joint.link_3*joint.link_2);var theta_3=Math.atan2(Math.sqrt(1-Math.pow(C,2)),C);var D=Math.cos(theta_3)*joint.link_3+joint.link_2;var E=Math.sin(theta_3)*joint.link_3;var numerator=(A*D-B*E)/(Math.pow(E,2)+Math.pow(D,2));var denominator=1-Math.pow(numerator,2);var theta_2=Math.atan2(numerator,Math.sqrt(denominator));joint.theta_1=joint.rad2deg(theta_1);joint.theta_2=joint.rad2deg(theta_2);joint.theta_3=joint.rad2deg(theta_3);return joint;}},{key:\"getFrame\",value:function getFrame(frameCount,props){}}]);return Robot;}();var PlotArea=/*#__PURE__*/function(_Component){_inherits(PlotArea,_Component);function PlotArea(_props){var _this;_classCallCheck(this,PlotArea);_this=_possibleConstructorReturn(this,_getPrototypeOf(PlotArea).call(this));_this.preapreJointIK=function(leg,joint,prop,length){switch(leg){case 1:{joint.theta_1=-joint.deg2rad(prop.theta_1);joint.theta_2=-joint.deg2rad(prop.theta_2);joint.theta_3=-joint.deg2rad(prop.theta_3);joint.link_1=length.coxa;joint.link_2=length.tibia;joint.link_3=length.femur;break;}case 2:{joint.theta_1=-joint.deg2rad(prop.theta_1);joint.theta_2=-joint.deg2rad(prop.theta_2);joint.theta_3=-joint.deg2rad(prop.theta_3);joint.link_1=length.coxa;joint.link_2=length.tibia;joint.link_3=length.femur;break;}case 3:{joint.theta_1=-joint.deg2rad(prop.theta_1);joint.theta_2=-joint.deg2rad(prop.theta_2);joint.theta_3=-joint.deg2rad(prop.theta_3);joint.link_1=length.coxa;joint.link_2=length.tibia;joint.link_3=length.femur;break;}case 4:{joint.theta_1=-joint.deg2rad(prop.theta_1);joint.theta_2=-joint.deg2rad(prop.theta_2);joint.theta_3=-joint.deg2rad(prop.theta_3);joint.link_1=length.coxa;joint.link_2=length.tibia;joint.link_3=length.femur;break;}default:{}}return joint;};_this.prepareJointFK=function(leg,joint,props,length){switch(leg){case 1:{joint.theta_1=-joint.deg2rad(props[0][0]);joint.theta_2=-joint.deg2rad(180-props[0][1]-90);joint.theta_3=-joint.deg2rad(180-props[0][2]-90);joint.link_1=length.coxa;joint.link_2=length.tibia;joint.link_3=length.femur;break;}case 2:{joint.theta_1=-joint.deg2rad(180-props[1][0]);joint.theta_2=-joint.deg2rad(180-props[1][1]-90);joint.theta_3=-joint.deg2rad(180-props[1][2]-90);joint.link_1=length.coxa;joint.link_2=length.tibia;joint.link_3=length.femur;break;}case 3:{joint.theta_1=-joint.deg2rad(props[2][0]-180);joint.theta_2=-joint.deg2rad(180-props[2][1]-90);joint.theta_3=-joint.deg2rad(180-props[2][2]-90);joint.link_1=length.coxa;joint.link_2=length.tibia;joint.link_3=length.femur;break;}case 4:{joint.theta_1=-joint.deg2rad(props[3][0]-180);joint.theta_2=-joint.deg2rad(180-props[3][1]-90);joint.theta_3=-joint.deg2rad(180-props[3][2]-90);joint.link_1=length.coxa;joint.link_2=length.tibia;joint.link_3=length.femur;break;}}return joint;};_this.handleRotation=function(rotation,currentPoint){var theta_1=_this.deg2rad(rotation.rotX);var theta_2=_this.deg2rad(rotation.rotY);var theta_3=_this.deg2rad(rotation.rotZ);var x=currentPoint.x;var y=currentPoint.y;var z=currentPoint.z;var rotationMatrix=[y*(Math.cos(theta_1)*Math.sin(theta_3)+Math.cos(theta_3)*Math.sin(theta_1)*Math.sin(theta_2))+z*(Math.sin(theta_1)*Math.sin(theta_3)-Math.cos(theta_1)*Math.cos(theta_3)*Math.sin(theta_2))+x*Math.cos(theta_2)*Math.cos(theta_3),y*(Math.cos(theta_1)*Math.cos(theta_3)-Math.sin(theta_1)*Math.sin(theta_2)*Math.sin(theta_3))+z*(Math.cos(theta_3)*Math.sin(theta_1)+Math.cos(theta_1)*Math.sin(theta_2)*Math.sin(theta_3))-x*Math.cos(theta_2)*Math.sin(theta_3),x*Math.sin(theta_2)+z*Math.cos(theta_1)*Math.cos(theta_2)-y*Math.cos(theta_2)*Math.sin(theta_1)];return{x:rotationMatrix[0],y:rotationMatrix[1],z:rotationMatrix[2]};};_this.getGeneratedMesh=function(){var mesh={x:[_this.endEffectorPoints[0][0],_this.endEffectorPoints[1][0],_this.endEffectorPoints[2][0],_this.endEffectorPoints[3][0]],y:[-_this.endEffectorPoints[0][1],-_this.endEffectorPoints[1][1],-_this.endEffectorPoints[2][1],-_this.endEffectorPoints[3][1]],z:[-_this.endEffectorPoints[0][2],-_this.endEffectorPoints[1][2],-_this.endEffectorPoints[2][2],-_this.endEffectorPoints[3][2]]};return mesh;};_this.bot=new Robot(_props);_this.joint_1=new Joint(120,110,120,0,0,0);_this.joint_2=new Joint(120,110,120,0,0,0);_this.joint_3=new Joint(120,110,120,0,0,0);_this.joint_4=new Joint(120,110,120,0,0,0);_this.endEffectorPoints=[[],[],[],[]];if(_props.choice){_this.leg_1=_this.bot.getFK(_this.prepareJointFK(1,_this.joint_1,_props.fk,_props.lengths));_this.leg_2=_this.bot.getFK(_this.prepareJointFK(2,_this.joint_2,_props.fk,_props.lengths));_this.leg_3=_this.bot.getFK(_this.prepareJointFK(3,_this.joint_3,_props.fk,_props.lengths));_this.leg_4=_this.bot.getFK(_this.prepareJointFK(4,_this.joint_4,_props.fk,_props.lengths));}else{_this.leg_1=_this.bot.getFK(_this.preapreJointIK(1,_this.joint_1,_this.bot.getIK(_props.ik[0][0],_props.ik[0][1],_props.ik[0][2]||_props.frameCount,_this.joint_1)));_this.leg_2=_this.bot.getFK(_this.preapreJointIK(2,_this.joint_2,_this.bot.getIK(_props.ik[1][0],_props.ik[1][1],_props.ik[1][2],_this.joint_2)));_this.leg_3=_this.bot.getFK(_this.preapreJointIK(3,_this.joint_3,_this.bot.getIK(_props.ik[2][0],_props.ik[2][1],_props.ik[2][2],_this.joint_3)));_this.leg_4=_this.bot.getFK(_this.preapreJointIK(4,_this.joint_4,_this.bot.getIK(_props.ik[3][0],_props.ik[3][1],_props.ik[3][2],_this.joint_4)));}_this.state={bodyDimension:_this.bot.getRobotBody(_props.radius),endEffectorPoints:[]};return _this;}_createClass(PlotArea,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.choice===\"IK\"){for(var i=0;i<100;i++){this.leg_1=this.bot.getFK(this.preapreJointIK(1,this.joint_1,this.bot.getIK(this.props.ik[0][0],this.props.ik[0][1],i,this.joint_1),this.props.lengths));}}}},{key:\"deg2rad\",value:function deg2rad(degrees){var pi=Math.PI;return degrees*(pi/180);}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){this.setState({bodyDimension:this.bot.getRobotBody(nextProps.radius)});if(nextProps.choice){this.leg_1=this.bot.getFK(this.prepareJointFK(1,this.joint_1,nextProps.fk,nextProps.lengths));this.leg_2=this.bot.getFK(this.prepareJointFK(2,this.joint_2,nextProps.fk,nextProps.lengths));this.leg_3=this.bot.getFK(this.prepareJointFK(3,this.joint_3,nextProps.fk,nextProps.lengths));this.leg_4=this.bot.getFK(this.prepareJointFK(4,this.joint_4,nextProps.fk,nextProps.lengths));this.endEffectorPoints=[[this.leg_1[2][0],-this.leg_1[2][1],-this.leg_1[2][2]],[this.leg_2[2][0],-this.leg_2[2][1],-this.leg_2[2][2]],[this.leg_3[2][0],-this.leg_3[2][1],-this.leg_3[2][2]],[this.leg_4[2][0],-this.leg_4[2][1],-this.leg_4[2][2]]];}else{this.endEffectorPoints=[[this.handleRotation(nextProps.rotations,{x:nextProps.ik[0][0],y:nextProps.ik[0][1],z:nextProps.ik[0][2]}).x,this.handleRotation(nextProps.rotations,{x:nextProps.ik[0][0],y:nextProps.ik[0][1],z:nextProps.ik[0][2]}).y,this.handleRotation(nextProps.rotations,{x:nextProps.ik[0][0],y:nextProps.ik[0][1],z:nextProps.ik[0][2]}).z],[this.handleRotation(nextProps.rotations,{x:nextProps.ik[1][0],y:nextProps.ik[1][1],z:nextProps.ik[1][2]}).x,this.handleRotation(nextProps.rotations,{x:nextProps.ik[1][0],y:nextProps.ik[1][1],z:nextProps.ik[1][2]}).y,this.handleRotation(nextProps.rotations,{x:nextProps.ik[1][0],y:nextProps.ik[1][1],z:nextProps.ik[1][2]}).z],[this.handleRotation(nextProps.rotations,{x:nextProps.ik[2][0],y:nextProps.ik[2][1],z:nextProps.ik[2][2]}).x,this.handleRotation(nextProps.rotations,{x:nextProps.ik[2][0],y:nextProps.ik[2][1],z:nextProps.ik[2][2]}).y,this.handleRotation(nextProps.rotations,{x:nextProps.ik[2][0],y:nextProps.ik[2][1],z:nextProps.ik[2][2]}).z],[this.handleRotation(nextProps.rotations,{x:nextProps.ik[3][0],y:nextProps.ik[3][1],z:nextProps.ik[3][2]}).x,this.handleRotation(nextProps.rotations,{x:nextProps.ik[3][0],y:nextProps.ik[3][1],z:nextProps.ik[3][2]}).y,this.handleRotation(nextProps.rotations,{x:nextProps.ik[3][0],y:nextProps.ik[3][1],z:nextProps.ik[3][2]}).z]];this.leg_1=this.bot.getFK(this.preapreJointIK(1,this.joint_1,this.bot.getIK(this.handleRotation(nextProps.rotations,{x:nextProps.ik[0][0],y:nextProps.ik[0][1],z:nextProps.ik[0][2]}).x,this.handleRotation(nextProps.rotations,{x:nextProps.ik[0][0],y:nextProps.ik[0][1],z:nextProps.ik[0][2]}).y,this.handleRotation(nextProps.rotations,{x:nextProps.ik[0][0],y:nextProps.ik[0][1],z:nextProps.ik[0][2]}).z,this.joint_1),nextProps.lengths));this.leg_2=this.bot.getFK(this.preapreJointIK(2,this.joint_2,this.bot.getIK(this.handleRotation(nextProps.rotations,{x:nextProps.ik[1][0],y:nextProps.ik[1][1],z:nextProps.ik[1][2]}).x,this.handleRotation(nextProps.rotations,{x:nextProps.ik[1][0],y:nextProps.ik[1][1],z:nextProps.ik[1][2]}).y,this.handleRotation(nextProps.rotations,{x:nextProps.ik[1][0],y:nextProps.ik[1][1],z:nextProps.ik[1][2]}).z,this.joint_2),nextProps.lengths));this.leg_3=this.bot.getFK(this.preapreJointIK(2,this.joint_2,this.bot.getIK(this.handleRotation(nextProps.rotations,{x:nextProps.ik[2][0],y:nextProps.ik[2][1],z:nextProps.ik[2][2]}).x,this.handleRotation(nextProps.rotations,{x:nextProps.ik[2][0],y:nextProps.ik[2][1],z:nextProps.ik[2][2]}).y,this.handleRotation(nextProps.rotations,{x:nextProps.ik[2][0],y:nextProps.ik[2][1],z:nextProps.ik[2][2]}).z,this.joint_2),nextProps.lengths));this.leg_4=this.bot.getFK(this.preapreJointIK(4,this.joint_4,this.bot.getIK(this.handleRotation(nextProps.rotations,{x:nextProps.ik[3][0],y:nextProps.ik[3][1],z:nextProps.ik[3][2]}).x,this.handleRotation(nextProps.rotations,{x:nextProps.ik[3][0],y:nextProps.ik[3][1],z:nextProps.ik[3][2]}).y,this.handleRotation(nextProps.rotations,{x:nextProps.ik[3][0],y:nextProps.ik[3][1],z:nextProps.ik[3][2]}).z,this.joint_4),nextProps.lengths));}}},{key:\"render\",value:function render(){return React.createElement(Container,null,React.createElement(Plot,{data:[{x:this.state.bodyDimension.x,y:this.state.bodyDimension.y,z:this.state.bodyDimension.z,type:\"mesh3d\",mode:\"lines+markers\",line:{width:6,colorscale:\"Viridis\"},marker:{size:3.5,colorscale:\"Greens\",cmin:-20,cmax:50}},{// LEG 1\nx:[0,this.leg_1[0][0],this.leg_1[1][0],this.leg_1[2][0]],y:[0,this.leg_1[0][1],this.leg_1[1][1],this.leg_1[2][1]],z:[0,this.leg_1[0][2],this.leg_1[1][2],this.leg_1[2][2]],type:\"scatter3d\",mode:\"lines+markers\",line:{width:6,colorscale:\"Viridis\"},marker:{size:3.5,colorscale:\"Reds\",cmin:-20,cmax:50}},{// LEG 2\nx:[0,this.leg_2[0][0],this.leg_2[1][0],this.leg_2[2][0]],y:[0,this.leg_2[0][1],this.leg_2[1][1],this.leg_2[2][1]],z:[0,this.leg_2[0][2],this.leg_2[1][2],this.leg_2[2][2]],type:\"scatter3d\",mode:\"lines+markers\",line:{width:6,colorscale:\"Viridis\"},marker:{size:3.5,colorscale:\"Greens\",cmin:-20,cmax:50}},{// LEG 3\nx:[0,this.leg_3[0][0],this.leg_3[1][0],this.leg_3[2][0]],y:[0,this.leg_3[0][1],this.leg_3[1][1],this.leg_3[2][1]],z:[0,this.leg_3[0][2],this.leg_3[1][2],this.leg_3[2][2]],type:\"scatter3d\",mode:\"lines+markers\",line:{width:6,colorscale:\"Viridis\"},marker:{size:3.5,colorscale:\"Greens\",cmin:-20,cmax:50}},{// LEG 4\nx:[0,this.leg_4[0][0],this.leg_4[1][0],this.leg_4[2][0]],y:[0,this.leg_4[0][1],this.leg_4[1][1],this.leg_4[2][1]],z:[0,this.leg_4[0][2],this.leg_4[1][2],this.leg_4[2][2]],type:\"scatter3d\",mode:\"lines+markers\",line:{width:6,colorscale:\"Viridis\"},marker:{size:3.5,colorscale:\"Greens\",cmin:-20,cmax:50}},{x:this.props.showMesh?this.getGeneratedMesh().x:[0],y:this.props.showMesh?this.getGeneratedMesh().y:[0],z:this.props.showMesh?this.getGeneratedMesh().z:[0],color:\"rgb(300,100,200)\",type:\"mesh3d\",opacity:0.3}],layout:{autosize:false,height:999,width:1080,scene:{aspectmode:\"manual\",aspectratio:{x:1,y:1,z:1},xaxis:{nticks:9,range:[-350,350]},yaxis:{nticks:7,range:[-350,350]},zaxis:{nticks:10,range:[-350,350]}},legend:{bgcolor:\"#ffffff1c\",orientation:\"h\",font:{color:\"black\",family:\"Montserrat\"}},title:{text:\"Quadruped Simulation\",font:{family:\"Montserrat\",size:24,color:\"black\"},xref:\"paper\"}},frames:[{// LEG 1\nx:[0,this.leg_1[0][0],this.leg_1[1][0],this.leg_1[2][0]],y:[0,this.leg_1[0][1],this.leg_1[1][1],this.leg_1[2][1]],z:[0,this.leg_1[0][2],this.leg_1[1][2],this.leg_1[2][2]],type:\"scatter3d\",mode:\"lines+markers\",line:{width:6,colorscale:\"Viridis\"},marker:{size:3.5,colorscale:\"Reds\",cmin:-20,cmax:50}}]}));}}]);return PlotArea;}(Component);export{PlotArea as default};","map":{"version":3,"sources":["/Users/pratikgurudatt/Desktop/code/mine/Thesis/Quadruped/Simulator/Quadruped-Simulation-/src/Components/PlotArea/mainPlot.js"],"names":["React","Component","styled","Plot","Container","div","Joint","link_1","link_2","link_3","theta_1","theta_2","theta_3","name","joint","value","pi","Math","PI","degrees","console","log","Robot","bodyRadius","rads","x","y","z","point_set","firstArray","secondArray","resultingArray","n","i","push","j","k","T0_1","cos","sin","T0_2","T0_3","T0_4","point_set_1","_multiplyMatrices","point_set_2","point_set_3","_filterEndPoint","atan2","A","B","C","pow","sqrt","D","E","numerator","denominator","rad2deg","frameCount","props","PlotArea","preapreJointIK","leg","prop","length","deg2rad","coxa","tibia","femur","prepareJointFK","handleRotation","rotation","currentPoint","rotX","rotY","rotZ","rotationMatrix","getGeneratedMesh","mesh","endEffectorPoints","bot","joint_1","joint_2","joint_3","joint_4","choice","leg_1","getFK","fk","lengths","leg_2","leg_3","leg_4","getIK","ik","state","bodyDimension","getRobotBody","radius","nextProps","setState","rotations","type","mode","line","width","colorscale","marker","size","cmin","cmax","showMesh","color","opacity","autosize","height","scene","aspectmode","aspectratio","xaxis","nticks","range","yaxis","zaxis","legend","bgcolor","orientation","font","family","title","text","xref"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Plot from \"react-plotly.js\";\n\nexport const Container = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  background-color: rgba(255, 255, 255, 0.2);\n  border-radius: 5px;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nclass Joint {\n  constructor(link_1, link_2, link_3, theta_1, theta_2, theta_3, name) {\n    this.joint = {\n      theta_1: theta_1,\n      theta_2: theta_2,\n      theta_3: theta_3,\n\n      link_1: link_1,\n      link_2: link_2,\n      link_3: link_3,\n      name: name,\n    };\n  }\n\n  rad2deg(value) {\n    var pi = Math.PI;\n    return value * (180 / pi);\n  }\n\n  deg2rad(degrees) {\n    var pi = Math.PI;\n    return degrees * (pi / 180);\n  }\n\n  printJoint() {\n    console.log(\"Link 1: \" + this.theta_1);\n    console.log(\"link 2: \" + this.theta_2);\n    console.log(\"link 3: \" + this.theta_3);\n  }\n}\n\nclass Robot {\n  constructor() {\n    this.bodyRadius = 0;\n  }\n\n  getRobotBody(rads) {\n    //[ -50, 50, 50, -50, -50 ], [ -50, -50, 50, 50, -50 ], [0, 0, 0, 0, 0]\n    let x = [-rads, rads, rads, -rads, -rads];\n    let y = [-rads, -rads, rads, rads, -rads];\n    let z = [0, 0, 0, 0, 0];\n    return {\n      x: x,\n      y: y,\n      z: z,\n    };\n  }\n\n  _filterEndPoint(point_set) {\n    return [\n      [point_set[0][0][3], point_set[0][1][3], point_set[0][2][3]],\n      [point_set[1][0][3], point_set[1][1][3], point_set[1][2][3]],\n      [point_set[2][0][3], point_set[2][1][3], point_set[2][2][3]],\n    ];\n  }\n\n  _multiplyMatrices(firstArray, secondArray) {\n    let resultingArray = [];\n    let n = 4;\n    for (let i = 0; i < n; i++) {\n      resultingArray.push([]);\n      for (let j = 0; j < n; j++) {\n        resultingArray[i][j] = 0;\n        for (let k = 0; k < n; k++) {\n          resultingArray[i][j] += firstArray[i][k] * secondArray[k][j];\n        }\n      }\n    }\n    return resultingArray;\n  }\n\n  getFK(joint) {\n    let T0_1 = [\n      [Math.cos(joint.theta_1), -Math.sin(joint.theta_1), 0, 0],\n      [Math.sin(joint.theta_1), Math.cos(joint.theta_1), 0, 0],\n      [0, 0, 1, 0],\n      [0, 0, 0, 1],\n    ];\n\n    let T0_2 = [\n      [Math.cos(joint.theta_2), -Math.sin(joint.theta_2), 0, joint.link_1],\n      [0, 0, -1, 0],\n      [Math.sin(joint.theta_2), Math.cos(joint.theta_2), 0, 0],\n      [0, 0, 0, 1],\n    ];\n\n    let T0_3 = [\n      [Math.cos(joint.theta_3), -Math.sin(joint.theta_3), 0, joint.link_2],\n      [Math.sin(joint.theta_3), Math.cos(joint.theta_3), 0, 0],\n      [0, 0, 1, 0],\n      [0, 0, 0, 1],\n    ];\n\n    let T0_4 = [\n      [1, 0, 0, joint.link_3],\n      [0, 1, 0, 0],\n      [0, 0, 1, 0],\n      [0, 0, 0, 1],\n    ];\n\n    let point_set_1 = this._multiplyMatrices(T0_1, T0_2);\n    let point_set_2 = this._multiplyMatrices(point_set_1, T0_3);\n    let point_set_3 = this._multiplyMatrices(point_set_2, T0_4);\n\n    return this._filterEndPoint([point_set_1, point_set_2, point_set_3]);\n  }\n\n  getIK(x, y, z, joint) {\n    let theta_1 = Math.atan2(y, x);\n    let A = z;\n    let B = Math.cos(theta_1) * x + y * Math.sin(theta_1) - joint.link_1;\n    let C =\n      (Math.pow(A, 2) +\n        Math.pow(B, 2) -\n        Math.pow(joint.link_3, 2) -\n        Math.pow(joint.link_2, 2)) /\n      (2 * joint.link_3 * joint.link_2);\n    let theta_3 = Math.atan2(Math.sqrt(1 - Math.pow(C, 2)), C);\n    let D = Math.cos(theta_3) * joint.link_3 + joint.link_2;\n    let E = Math.sin(theta_3) * joint.link_3;\n\n    let numerator = (A * D - B * E) / (Math.pow(E, 2) + Math.pow(D, 2));\n    let denominator = 1 - Math.pow(numerator, 2);\n\n    let theta_2 = Math.atan2(numerator, Math.sqrt(denominator));\n\n    joint.theta_1 = joint.rad2deg(theta_1);\n    joint.theta_2 = joint.rad2deg(theta_2);\n    joint.theta_3 = joint.rad2deg(theta_3);\n\n    return joint;\n  }\n\n  getFrame(frameCount, props) {}\n}\n\nexport default class PlotArea extends Component {\n  constructor(props) {\n    super();\n    this.bot = new Robot(props);\n    this.joint_1 = new Joint(120, 110, 120, 0, 0, 0);\n    this.joint_2 = new Joint(120, 110, 120, 0, 0, 0);\n    this.joint_3 = new Joint(120, 110, 120, 0, 0, 0);\n    this.joint_4 = new Joint(120, 110, 120, 0, 0, 0);\n\n    this.endEffectorPoints = [[], [], [], []];\n    if (props.choice) {\n      this.leg_1 = this.bot.getFK(\n        this.prepareJointFK(1, this.joint_1, props.fk, props.lengths)\n      );\n      this.leg_2 = this.bot.getFK(\n        this.prepareJointFK(2, this.joint_2, props.fk, props.lengths)\n      );\n      this.leg_3 = this.bot.getFK(\n        this.prepareJointFK(3, this.joint_3, props.fk, props.lengths)\n      );\n      this.leg_4 = this.bot.getFK(\n        this.prepareJointFK(4, this.joint_4, props.fk, props.lengths)\n      );\n    } else {\n      this.leg_1 = this.bot.getFK(\n        this.preapreJointIK(\n          1,\n          this.joint_1,\n          this.bot.getIK(\n            props.ik[0][0],\n            props.ik[0][1],\n            props.ik[0][2] || props.frameCount,\n            this.joint_1\n          )\n        )\n      );\n\n      this.leg_2 = this.bot.getFK(\n        this.preapreJointIK(\n          2,\n          this.joint_2,\n          this.bot.getIK(\n            props.ik[1][0],\n            props.ik[1][1],\n            props.ik[1][2],\n            this.joint_2\n          )\n        )\n      );\n\n      this.leg_3 = this.bot.getFK(\n        this.preapreJointIK(\n          3,\n          this.joint_3,\n          this.bot.getIK(\n            props.ik[2][0],\n            props.ik[2][1],\n            props.ik[2][2],\n            this.joint_3\n          )\n        )\n      );\n\n      this.leg_4 = this.bot.getFK(\n        this.preapreJointIK(\n          4,\n          this.joint_4,\n          this.bot.getIK(\n            props.ik[3][0],\n            props.ik[3][1],\n            props.ik[3][2],\n            this.joint_4\n          )\n        )\n      );\n    }\n\n    this.state = {\n      bodyDimension: this.bot.getRobotBody(props.radius),\n      endEffectorPoints: [],\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.choice === \"IK\") {\n      for (let i = 0; i < 100; i++) {\n        this.leg_1 = this.bot.getFK(\n          this.preapreJointIK(\n            1,\n            this.joint_1,\n            this.bot.getIK(\n              this.props.ik[0][0],\n              this.props.ik[0][1],\n              i,\n              this.joint_1\n            ),\n            this.props.lengths\n          )\n        );\n      }\n    }\n  }\n\n  preapreJointIK = (leg, joint, prop, length) => {\n    switch (leg) {\n      case 1: {\n        joint.theta_1 = -joint.deg2rad(prop.theta_1);\n        joint.theta_2 = -joint.deg2rad(prop.theta_2);\n        joint.theta_3 = -joint.deg2rad(prop.theta_3);\n        joint.link_1 = length.coxa;\n        joint.link_2 = length.tibia;\n        joint.link_3 = length.femur;\n        break;\n      }\n\n      case 2: {\n        joint.theta_1 = -joint.deg2rad(prop.theta_1);\n        joint.theta_2 = -joint.deg2rad(prop.theta_2);\n        joint.theta_3 = -joint.deg2rad(prop.theta_3);\n        joint.link_1 = length.coxa;\n        joint.link_2 = length.tibia;\n        joint.link_3 = length.femur;\n        break;\n      }\n\n      case 3: {\n        joint.theta_1 = -joint.deg2rad(prop.theta_1);\n        joint.theta_2 = -joint.deg2rad(prop.theta_2);\n        joint.theta_3 = -joint.deg2rad(prop.theta_3);\n        joint.link_1 = length.coxa;\n        joint.link_2 = length.tibia;\n        joint.link_3 = length.femur;\n        break;\n      }\n\n      case 4: {\n        joint.theta_1 = -joint.deg2rad(prop.theta_1);\n        joint.theta_2 = -joint.deg2rad(prop.theta_2);\n        joint.theta_3 = -joint.deg2rad(prop.theta_3);\n        joint.link_1 = length.coxa;\n        joint.link_2 = length.tibia;\n        joint.link_3 = length.femur;\n        break;\n      }\n\n      default: {\n      }\n    }\n    return joint;\n  };\n\n  deg2rad(degrees) {\n    var pi = Math.PI;\n    return degrees * (pi / 180);\n  }\n\n  prepareJointFK = (leg, joint, props, length) => {\n    switch (leg) {\n      case 1: {\n        joint.theta_1 = -joint.deg2rad(props[0][0]);\n        joint.theta_2 = -joint.deg2rad(180 - props[0][1] - 90);\n        joint.theta_3 = -joint.deg2rad(180 - props[0][2] - 90);\n        joint.link_1 = length.coxa;\n        joint.link_2 = length.tibia;\n        joint.link_3 = length.femur;\n        break;\n      }\n\n      case 2: {\n        joint.theta_1 = -joint.deg2rad(180 - props[1][0]);\n        joint.theta_2 = -joint.deg2rad(180 - props[1][1] - 90);\n        joint.theta_3 = -joint.deg2rad(180 - props[1][2] - 90);\n        joint.link_1 = length.coxa;\n        joint.link_2 = length.tibia;\n        joint.link_3 = length.femur;\n        break;\n      }\n\n      case 3: {\n        joint.theta_1 = -joint.deg2rad(props[2][0] - 180);\n        joint.theta_2 = -joint.deg2rad(180 - props[2][1] - 90);\n        joint.theta_3 = -joint.deg2rad(180 - props[2][2] - 90);\n        joint.link_1 = length.coxa;\n        joint.link_2 = length.tibia;\n        joint.link_3 = length.femur;\n        break;\n      }\n\n      case 4: {\n        joint.theta_1 = -joint.deg2rad(props[3][0] - 180);\n        joint.theta_2 = -joint.deg2rad(180 - props[3][1] - 90);\n        joint.theta_3 = -joint.deg2rad(180 - props[3][2] - 90);\n        joint.link_1 = length.coxa;\n        joint.link_2 = length.tibia;\n        joint.link_3 = length.femur;\n        break;\n      }\n    }\n    return joint;\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      bodyDimension: this.bot.getRobotBody(nextProps.radius),\n    });\n\n    if (nextProps.choice) {\n      this.leg_1 = this.bot.getFK(\n        this.prepareJointFK(1, this.joint_1, nextProps.fk, nextProps.lengths)\n      );\n      this.leg_2 = this.bot.getFK(\n        this.prepareJointFK(2, this.joint_2, nextProps.fk, nextProps.lengths)\n      );\n      this.leg_3 = this.bot.getFK(\n        this.prepareJointFK(3, this.joint_3, nextProps.fk, nextProps.lengths)\n      );\n      this.leg_4 = this.bot.getFK(\n        this.prepareJointFK(4, this.joint_4, nextProps.fk, nextProps.lengths)\n      );\n\n      this.endEffectorPoints = [\n        [this.leg_1[2][0], -this.leg_1[2][1], -this.leg_1[2][2]],\n        [this.leg_2[2][0], -this.leg_2[2][1], -this.leg_2[2][2]],\n        [this.leg_3[2][0], -this.leg_3[2][1], -this.leg_3[2][2]],\n        [this.leg_4[2][0], -this.leg_4[2][1], -this.leg_4[2][2]],\n      ];\n    } else {\n      this.endEffectorPoints = [\n        [\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[0][0],\n            y: nextProps.ik[0][1],\n            z: nextProps.ik[0][2],\n          }).x,\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[0][0],\n            y: nextProps.ik[0][1],\n            z: nextProps.ik[0][2],\n          }).y,\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[0][0],\n            y: nextProps.ik[0][1],\n            z: nextProps.ik[0][2],\n          }).z,\n        ],\n        [\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[1][0],\n            y: nextProps.ik[1][1],\n            z: nextProps.ik[1][2],\n          }).x,\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[1][0],\n            y: nextProps.ik[1][1],\n            z: nextProps.ik[1][2],\n          }).y,\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[1][0],\n            y: nextProps.ik[1][1],\n            z: nextProps.ik[1][2],\n          }).z,\n        ],\n        [\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[2][0],\n            y: nextProps.ik[2][1],\n            z: nextProps.ik[2][2],\n          }).x,\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[2][0],\n            y: nextProps.ik[2][1],\n            z: nextProps.ik[2][2],\n          }).y,\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[2][0],\n            y: nextProps.ik[2][1],\n            z: nextProps.ik[2][2],\n          }).z,\n        ],\n        [\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[3][0],\n            y: nextProps.ik[3][1],\n            z: nextProps.ik[3][2],\n          }).x,\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[3][0],\n            y: nextProps.ik[3][1],\n            z: nextProps.ik[3][2],\n          }).y,\n          this.handleRotation(nextProps.rotations, {\n            x: nextProps.ik[3][0],\n            y: nextProps.ik[3][1],\n            z: nextProps.ik[3][2],\n          }).z,\n        ],\n      ];\n\n      this.leg_1 = this.bot.getFK(\n        this.preapreJointIK(\n          1,\n          this.joint_1,\n          this.bot.getIK(\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[0][0],\n              y: nextProps.ik[0][1],\n              z: nextProps.ik[0][2],\n            }).x,\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[0][0],\n              y: nextProps.ik[0][1],\n              z: nextProps.ik[0][2],\n            }).y,\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[0][0],\n              y: nextProps.ik[0][1],\n              z: nextProps.ik[0][2],\n            }).z,\n            this.joint_1\n          ),\n          nextProps.lengths\n        )\n      );\n\n      this.leg_2 = this.bot.getFK(\n        this.preapreJointIK(\n          2,\n          this.joint_2,\n          this.bot.getIK(\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[1][0],\n              y: nextProps.ik[1][1],\n              z: nextProps.ik[1][2],\n            }).x,\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[1][0],\n              y: nextProps.ik[1][1],\n              z: nextProps.ik[1][2],\n            }).y,\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[1][0],\n              y: nextProps.ik[1][1],\n              z: nextProps.ik[1][2],\n            }).z,\n            this.joint_2\n          ),\n          nextProps.lengths\n        )\n      );\n\n      this.leg_3 = this.bot.getFK(\n        this.preapreJointIK(\n          2,\n          this.joint_2,\n          this.bot.getIK(\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[2][0],\n              y: nextProps.ik[2][1],\n              z: nextProps.ik[2][2],\n            }).x,\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[2][0],\n              y: nextProps.ik[2][1],\n              z: nextProps.ik[2][2],\n            }).y,\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[2][0],\n              y: nextProps.ik[2][1],\n              z: nextProps.ik[2][2],\n            }).z,\n            this.joint_2\n          ),\n          nextProps.lengths\n        )\n      );\n\n      this.leg_4 = this.bot.getFK(\n        this.preapreJointIK(\n          4,\n          this.joint_4,\n          this.bot.getIK(\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[3][0],\n              y: nextProps.ik[3][1],\n              z: nextProps.ik[3][2],\n            }).x,\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[3][0],\n              y: nextProps.ik[3][1],\n              z: nextProps.ik[3][2],\n            }).y,\n            this.handleRotation(nextProps.rotations, {\n              x: nextProps.ik[3][0],\n              y: nextProps.ik[3][1],\n              z: nextProps.ik[3][2],\n            }).z,\n            this.joint_4\n          ),\n          nextProps.lengths\n        )\n      );\n    }\n  }\n\n  handleRotation = (rotation, currentPoint) => {\n    let theta_1 = this.deg2rad(rotation.rotX);\n    let theta_2 = this.deg2rad(rotation.rotY);\n    let theta_3 = this.deg2rad(rotation.rotZ);\n\n    let x = currentPoint.x;\n    let y = currentPoint.y;\n    let z = currentPoint.z;\n\n    let rotationMatrix = [\n      y *\n        (Math.cos(theta_1) * Math.sin(theta_3) +\n          Math.cos(theta_3) * Math.sin(theta_1) * Math.sin(theta_2)) +\n        z *\n          (Math.sin(theta_1) * Math.sin(theta_3) -\n            Math.cos(theta_1) * Math.cos(theta_3) * Math.sin(theta_2)) +\n        x * Math.cos(theta_2) * Math.cos(theta_3),\n      y *\n        (Math.cos(theta_1) * Math.cos(theta_3) -\n          Math.sin(theta_1) * Math.sin(theta_2) * Math.sin(theta_3)) +\n        z *\n          (Math.cos(theta_3) * Math.sin(theta_1) +\n            Math.cos(theta_1) * Math.sin(theta_2) * Math.sin(theta_3)) -\n        x * Math.cos(theta_2) * Math.sin(theta_3),\n      x * Math.sin(theta_2) +\n        z * Math.cos(theta_1) * Math.cos(theta_2) -\n        y * Math.cos(theta_2) * Math.sin(theta_1),\n    ];\n\n    return { x: rotationMatrix[0], y: rotationMatrix[1], z: rotationMatrix[2] };\n  };\n\n  getGeneratedMesh = () => {\n    let mesh = {\n      x: [\n        this.endEffectorPoints[0][0],\n        this.endEffectorPoints[1][0],\n        this.endEffectorPoints[2][0],\n        this.endEffectorPoints[3][0],\n      ],\n      y: [\n        -this.endEffectorPoints[0][1],\n        -this.endEffectorPoints[1][1],\n        -this.endEffectorPoints[2][1],\n        -this.endEffectorPoints[3][1],\n      ],\n      z: [\n        -this.endEffectorPoints[0][2],\n        -this.endEffectorPoints[1][2],\n        -this.endEffectorPoints[2][2],\n        -this.endEffectorPoints[3][2],\n      ],\n    };\n    return mesh;\n  };\n\n  render() {\n    return (\n      <Container>\n        <Plot\n          data={[\n            {\n              x: this.state.bodyDimension.x,\n              y: this.state.bodyDimension.y,\n              z: this.state.bodyDimension.z,\n              type: \"mesh3d\",\n              mode: \"lines+markers\",\n              line: {\n                width: 6,\n                colorscale: \"Viridis\",\n              },\n              marker: {\n                size: 3.5,\n                colorscale: \"Greens\",\n                cmin: -20,\n                cmax: 50,\n              },\n            },\n            {\n              // LEG 1\n              x: [0, this.leg_1[0][0], this.leg_1[1][0], this.leg_1[2][0]],\n              y: [0, this.leg_1[0][1], this.leg_1[1][1], this.leg_1[2][1]],\n              z: [0, this.leg_1[0][2], this.leg_1[1][2], this.leg_1[2][2]],\n              type: \"scatter3d\",\n              mode: \"lines+markers\",\n              line: {\n                width: 6,\n                colorscale: \"Viridis\",\n              },\n              marker: {\n                size: 3.5,\n                colorscale: \"Reds\",\n                cmin: -20,\n                cmax: 50,\n              },\n            },\n            {\n              // LEG 2\n              x: [0, this.leg_2[0][0], this.leg_2[1][0], this.leg_2[2][0]],\n              y: [0, this.leg_2[0][1], this.leg_2[1][1], this.leg_2[2][1]],\n              z: [0, this.leg_2[0][2], this.leg_2[1][2], this.leg_2[2][2]],\n              type: \"scatter3d\",\n              mode: \"lines+markers\",\n              line: {\n                width: 6,\n                colorscale: \"Viridis\",\n              },\n              marker: {\n                size: 3.5,\n                colorscale: \"Greens\",\n                cmin: -20,\n                cmax: 50,\n              },\n            },\n            {\n              // LEG 3\n              x: [0, this.leg_3[0][0], this.leg_3[1][0], this.leg_3[2][0]],\n              y: [0, this.leg_3[0][1], this.leg_3[1][1], this.leg_3[2][1]],\n              z: [0, this.leg_3[0][2], this.leg_3[1][2], this.leg_3[2][2]],\n              type: \"scatter3d\",\n              mode: \"lines+markers\",\n              line: {\n                width: 6,\n                colorscale: \"Viridis\",\n              },\n              marker: {\n                size: 3.5,\n                colorscale: \"Greens\",\n                cmin: -20,\n                cmax: 50,\n              },\n            },\n            {\n              // LEG 4\n              x: [0, this.leg_4[0][0], this.leg_4[1][0], this.leg_4[2][0]],\n              y: [0, this.leg_4[0][1], this.leg_4[1][1], this.leg_4[2][1]],\n              z: [0, this.leg_4[0][2], this.leg_4[1][2], this.leg_4[2][2]],\n              type: \"scatter3d\",\n              mode: \"lines+markers\",\n              line: {\n                width: 6,\n                colorscale: \"Viridis\",\n              },\n              marker: {\n                size: 3.5,\n                colorscale: \"Greens\",\n                cmin: -20,\n                cmax: 50,\n              },\n            },\n            {\n              x: this.props.showMesh ? this.getGeneratedMesh().x : [0],\n              y: this.props.showMesh ? this.getGeneratedMesh().y : [0],\n              z: this.props.showMesh ? this.getGeneratedMesh().z : [0],\n              color: \"rgb(300,100,200)\",\n              type: \"mesh3d\",\n              opacity: 0.3,\n            },\n          ]}\n          layout={{\n            autosize: false,\n            height: 999,\n            width: 1080,\n            scene: {\n              aspectmode: \"manual\",\n              aspectratio: {\n                x: 1,\n                y: 1,\n                z: 1,\n              },\n              xaxis: {\n                nticks: 9,\n                range: [-350, 350],\n              },\n              yaxis: {\n                nticks: 7,\n                range: [-350, 350],\n              },\n              zaxis: {\n                nticks: 10,\n                range: [-350, 350],\n              },\n            },\n\n            legend: {\n              bgcolor: \"#ffffff1c\",\n              orientation: \"h\",\n              font: {\n                color: \"black\",\n                family: \"Montserrat\",\n              },\n            },\n            title: {\n              text: \"Quadruped Simulation\",\n              font: {\n                family: \"Montserrat\",\n                size: 24,\n                color: \"black\",\n              },\n\n              xref: \"paper\",\n            },\n          }}\n          frames={[\n            {\n              // LEG 1\n              x: [0, this.leg_1[0][0], this.leg_1[1][0], this.leg_1[2][0]],\n              y: [0, this.leg_1[0][1], this.leg_1[1][1], this.leg_1[2][1]],\n              z: [0, this.leg_1[0][2], this.leg_1[1][2], this.leg_1[2][2]],\n              type: \"scatter3d\",\n              mode: \"lines+markers\",\n              line: {\n                width: 6,\n                colorscale: \"Viridis\",\n              },\n              marker: {\n                size: 3.5,\n                colorscale: \"Reds\",\n                cmin: -20,\n                cmax: 50,\n              },\n            },\n          ]}\n        />\n      </Container>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}